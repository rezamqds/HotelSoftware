<!DOCTYPE html>
<html dir="rtl" lang="fa">

</html>
<html>

<head>

    <!-- dp -->
    <link rel="stylesheet" href="https://unpkg.com/@majidh1/jalalidatepicker/dist/jalalidatepicker.min.css">
    <script type="text/javascript"
        src="https://unpkg.com/@majidh1/jalalidatepicker/dist/jalalidatepicker.min.js"></script>


    <!-- dp -->

    <meta charset="UTF-8">
    <title>فرم ثبت اطلاعات مشتریان</title>
    <style>
        * {
            font-size: 20px;
            /* Set your desired font size in pixels */
        }

        body {
            background-color: rgb(0, 91, 119);
            color: rgb(251, 255, 0);
            font-family: Arial, sans-serif;
        }

        form {
            margin: 0 auto;
            width: 400px;
        }

        label {
            display: block;
            margin-bottom: 10px;
        }

        input[type="text"],
        input[type="number"] {
            padding: 5px;
            width: 100%;
        }

        input[type="submit"] {
            background-color: white;
            color: black;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
        }

        .navbar {
            background-color: black;
            padding: 10px;
            display: flex;
            justify-content: space-between;
        }

        .navbar a {
            text-decoration: none;
            color: white;
            margin-right: 10px;
        }
    </style>
</head>

<body>


    <div class="navbar">
        <a href="/">خانه</a>
        <!-- <a href="#about">درباره</a> -->
        <a><span>افزودن</span></a>
        <a href="/list">لیست میهمانان</a>

    </div>
    <br><br>


    <form action="http://localhost:5000/add_guest" method="POST">
        <label>نوع مسافر:</label>
        <input type="radio" name="is_foreign" value="FALSE" required>ایرانی
        <input type="radio" name="is_foreign" value="TRUE">خارجی
        <br><br>

        <div id="irn-field" style="display:none;">
            <label>نام:</label>
            <input type="text" name="name" required autocomplete="off">
            <br><br>

            <label>نام خانوادگی:</label>
            <input type="text" name="last_name" required autocomplete="off">
            <br><br>

            <label>نام پدر:</label>
            <input type="text" name="father_name" required autocomplete="off">
            <br><br>

            <label>کد ملی:</label>
            <input type="text" name="national_id" required autocomplete="off" pattern="[0-9٠-٩۰-۹]+"
                title="لطفاً فقط از اعداد استفاده کنید">
            <br><br>

            <label>تاریخ تولد:</label>
            <input type="text" name="date_of_birth" data-jdp required autocomplete="off" placeholder="کلیک کنید">
            <!-- <input type="text" name="date_of_birth" required> -->
            <br><br>

            <label>شماره تلفن:</label>
            <input type="text" name="phone_number" required autocomplete="off" pattern="[0-9٠-٩۰-۹]+"
                title="لطفاً فقط از اعداد استفاده کنید">
            <br><br>




            <!-- check it later !!!  -->
            <!-- Add a list and at the end of list other option to fill other and its not required -->
            <label>شغل:</label>
            <input type="text" name="occupation" autocomplete="off">
            <br><br>




            <label>واحد اقامت:</label>
            <!-- <input type="text" name="residence_unit" required> -->
            <select name="residence_unit" required>
                <option value="" disabled selected>انتخاب کنید</option>
                <option value="پنج دری">پنج دری</option>
                <option value="شاه نشین یک">شاه نشین یک</option>
                <option value="شاه نشین دو">شاه نشین دو</option>
                <option value="گل مرغ">گل مرغ</option>
                <option value="بهار">بهار</option>
                <option value="نارنج">نارنج</option>
                <option value="ترنج">ترنج</option>
            </select>
            <br><br>







            <label>تاریخ ورود:</label>
            <input type="text" name="arrival_date" data-jdp required autocomplete="off" placeholder="کلیک کنید">
            <!-- <input type="text" name="arrival_date" required> -->
            <br><br>

            <label>تاریخ خروج:</label>
            <input type="text" name="departure_date" data-jdp required autocomplete="off" placeholder="کلیک کنید">
            <!-- <input type="text" name="departure_date" required> -->
            <br><br>

            <label>نوع پرداخت:</label>
            <input type="radio" name="payment_type" value="نقدی" required>نقدی
            <input type="radio" name="payment_type" value="کارت">کارت
            <input type="radio" name="payment_type" value="جاباما">جاباما
            <input type="radio" name="payment_type" value="اسنپ تریپ">اسنپ تریپ

            <!-- <input type="text" name="payment_type" required> -->
            <br><br>

            <label>پیش پرداخت:</label>
            <input type="number" name="advance_payment" required autocomplete="off">
            <br><br>

            <label>مانده:</label>
            <input type="number" name="balance" required autocomplete="off">
            <br><br>

            <label>مبلغ کل:</label>
            <input type="number" name="total_amount" required autocomplete="off">
            <br><br>

            <label>یادداشت:</label>
            <textarea name="note"></textarea>
            <br><br>

        </div>







        <!-- frg -->

        <div id="frg-field" style="display:none;">
            <label>نام:</label>
            <input type="text" name="foreign_name" required autocomplete="off">
            <br><br>

            <label>نام خانوادگی:</label>
            <input type="text" name="foreign_last_name" required autocomplete="off">
            <br><br>





            <!-- check it later -->
            <!-- like job , a llist and other option -->
            <label>ملیت:</label>
            <input type="text" name="nationality" required autocomplete="off">
            <br><br>






            <label>شماره پاسپورت:</label>
            <input type="text" name="passport_number" required autocomplete="off">
            <br><br>





            <label>جنسیت:</label>
            <!-- <input type="text" name="gender" required> -->
            <input type="radio" name="gender" value="مرد"> مرد
            <input type="radio" name="gender" value="زن"> زن
            <br><br>





            <label>تاریخ تولد:</label>
            <input type="text" name="f_date_of_birth" data-jdp required autocomplete="off" placeholder="کلیک کنید">
            <!-- <input type="text" name="f_date_of_birth" required> -->
            <br><br>

            <label>شماره تلفن:</label>
            <input type="text" name="f_phone_number" required autocomplete="off" pattern="[0-9٠-٩۰-۹]+"
                title="لطفاً فقط از اعداد استفاده کنید">
            <br><br>




            <!-- # oter option like job -->
            <label>نام لیدر:</label>
            <input type="text" name="leader_name" required autocomplete="off">
            <br><br>

            <label>شماره تلفن لیدر:</label>
            <input type="text" name="leader_phone" required autocomplete="off" pattern="[0-9٠-٩۰-۹]+"
                title="لطفاً فقط از اعداد استفاده کنید">
            <br><br>




            <label>واحد اقامت:</label>
            <!-- <input type="text" name="f_residence_unit" required> -->
            <select name="f_residence_unit" required>
                <option value="" disabled selected>انتخاب کنید</option>
                <option value="پنج دری">پنج دری</option>
                <option value="شاه نشین یک">شاه نشین یک</option>
                <option value="شاه نشین دو">شاه نشین دو</option>
                <option value="گل مرغ">گل مرغ</option>
                <option value="بهار">بهار</option>
                <option value="نارنج">نارنج</option>
                <option value="ترنج">ترنج</option>
            </select>
            <br><br>






            <label>تاریخ ورود:</label>
            <input type="text" name="f_arrival_date" data-jdp required autocomplete="off" placeholder="کلیک کنید">
            <!-- <input type="text" name="f_arrival_date" required> -->
            <br><br>

            <label>تاریخ خروج:</label>
            <input type="text" name="f_departure_date" data-jdp required autocomplete="off" placeholder="کلیک کنید">
            <!-- <input type="text" name="f_departure_date" required> -->
            <br><br>



            <label>نوع پرداخت:</label>
            <input type="text" name="f_payment_type" required>
            <br><br>

            <label>پیش پرداخت:</label>
            <input type="number" name="f_advance_payment" required autocomplete="off">
            <br><br>

            <label>مانده:</label>
            <input type="number" name="f_balance" required autocomplete="off">
            <br><br>

            <label>مبلغ کل:</label>
            <input type="number" name="f_total_amount" required autocomplete="off">
            <br><br>

            <label>یادداشت:</label>
            <textarea name="f_note"></textarea>
            <br><br>


        </div>

        <input type="submit" value="ثبت">
    </form>


    <script>
        const passengerTypeRadios = document.querySelectorAll('input[name="is_foreign"]');
        const irn = document.getElementById('irn-field');
        const frg = document.getElementById('frg-field');
        const shql = document.querySelector('input[name="occupation"]');
        const ldr = document.querySelector('input[name="leader_name"]');
        const ldr_phone = document.querySelector('input[name="leader_phone"]');
        const f_ap = document.querySelector('input[name="f_advance_payment"]');
        const f_bl = document.querySelector('input[name="f_balance"]');
        const ap = document.querySelector('input[name="advance_payment"]');
        const bl = document.querySelector('input[name="balance"]');
        const iranianResidenceUnit = document.querySelector('select[name="residence_unit"]');
        const foreignResidenceUnit = document.querySelector('select[name="f_residence_unit"]');
        const f_ph = document.querySelector('input[name="f_phone_number"]');

        passengerTypeRadios.forEach(radio => {
            radio.addEventListener('change', function () {
                if (this.value === 'FALSE') {
                    // Internal 
                    irn.style.display = 'block';
                    frg.style.display = 'none';
                    Array.from(irn.querySelectorAll('input')).forEach(input => input.setAttribute('required', 'required'));
                    Array.from(frg.querySelectorAll('input')).forEach(input => input.removeAttribute('required'));
                    shql.removeAttribute('required');
                    ap.removeAttribute('required');
                    bl.removeAttribute('required');
                    foreignResidenceUnit.removeAttribute('required');
                    f_ph.removeAttribute('required');


                } else if (this.value === 'TRUE') {
                    irn.style.display = 'none';
                    frg.style.display = 'block';
                    Array.from(frg.querySelectorAll('input')).forEach(input => input.setAttribute('required', 'required'));
                    Array.from(irn.querySelectorAll('input')).forEach(input => input.removeAttribute('required'));
                    ldr.removeAttribute('required');
                    ldr_phone.removeAttribute('required');
                    f_ap.removeAttribute('required');
                    f_bl.removeAttribute('required');
                    iranianResidenceUnit.removeAttribute('required');

                }
            });
        });
    </script>

    <!-- dp -->
    <script>jalaliDatepicker.startWatch();</script>
    <!-- dp -->
</body>

</html>